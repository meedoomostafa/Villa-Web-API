@model VillaNumberDTO

@{
    ViewBag.Title = "Delete Villa Number";
    Layout = "_Layout";
}

<div class="content-wrapper">
    <div class="row">
        <div class="col-12">
            <!-- Header Section -->
            <div class="d-flex justify-content-between align-items-center mb-4">
                <div>
                    <h2 class="hero-title mb-2 text-danger">
                        <i class="fas fa-trash-alt me-2"></i>Delete Villa Number #@Model.VillaNo
                    </h2>
                    <p class="hero-subtitle mb-0">Confirm deletion of this villa number and its configuration</p>
                </div>
                <div class="hero-features">
                    <a asp-action="Index" class="btn btn-outline-secondary px-4 py-2">
                        <i class="fas fa-arrow-left me-2"></i>Back to List
                    </a>
                </div>
            </div>

            <!-- Warning Alert -->
            <div class="alert alert-warning mb-4">
                <div class="d-flex align-items-center">
                    <i class="fas fa-exclamation-triangle me-3"></i>
                    <div>
                        <strong>Warning!</strong> This action cannot be undone. Are you sure you want to delete this villa number?
                    </div>
                </div>
            </div>

            <!-- Main Content Card -->
            <div class="card">
                <div class="card-content p-4">
                    <!-- Villa Number Details -->
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="card stat-card mb-3">
                                <div class="card-icon">
                                    <i class="fas fa-hashtag text-primary"></i>
                                </div>
                                <div class="card-content">
                                    <h3 class="stat-number">#@Model.VillaNo</h3>
                                    <p class="stat-label">Villa Number</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card stat-card mb-3">
                                <div class="card-icon">
                                    <i class="fas fa-home text-success"></i>
                                </div>
                                <div class="card-content">
                                    <h3 class="stat-number">@Model.VillaId</h3>
                                    <p class="stat-label">Villa ID</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Detailed Information -->
                    <div class="card border-0 bg-light mb-4">
                        <div class="card-content p-4">
                            <h5 class="mb-3">
                                <i class="fas fa-info-circle me-2 text-info"></i>Villa Details
                            </h5>
                            
                            <dl class="row mb-0">
                                <dt class="col-sm-3 mb-2">
                                    <i class="fas fa-hashtag me-2 text-muted"></i>Villa Number:
                                </dt>
                                <dd class="col-sm-9 mb-2 fw-bold text-primary">#@Model.VillaNo</dd>
                                
                                <dt class="col-sm-3 mb-2">
                                    <i class="fas fa-tag me-2 text-muted"></i>Villa Name:
                                </dt>
                                <dd class="col-sm-9 mb-2">@Model.Villa.Name</dd>

                                <dt class="col-sm-3 mb-2">
                                    <i class="fas fa-home me-2 text-muted"></i>Villa ID:
                                </dt>
                                <dd class="col-sm-9 mb-2">@Model.VillaId</dd>

                                <dt class="col-sm-3 mb-2">
                                    <i class="fas fa-star me-2 text-muted"></i>Special Details:
                                </dt>
                                <dd class="col-sm-9 mb-2">
                                    @if (!string.IsNullOrEmpty(Model.SpetialDeatils))
                                    {
                                        <span>@Model.SpetialDeatils</span>
                                    }
                                    else
                                    {
                                        <span class="text-muted fst-italic">No special details</span>
                                    }
                                </dd>
                            </dl>
                        </div>
                    </div>

                    <!-- Action Form -->
                    <form asp-area="Company" asp-controller="VillaNumber" asp-action="DeleteConfirm" asp-route-id="@Model.VillaNo" method="post">
                        <input type="hidden" name="id" asp-for="VillaNo" />
                        <div class="d-flex gap-3 justify-content-center">
                            <button type="submit" class="btn btn-danger btn-lg px-5">
                                <i class="fas fa-trash-alt me-2"></i>Yes, Delete Villa Number
                            </button>
                            <a asp-action="Index" class="btn btn-outline-secondary btn-lg px-5">
                                <i class="fas fa-times me-2"></i>No, Cancel
                            </a>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Consequences Card -->
            <div class="card mt-4">
                <div class="card-content p-4">
                    <h5 class="mb-3 text-warning">
                        <i class="fas fa-exclamation-circle me-2"></i>What happens when you delete this villa number?
                    </h5>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="d-flex align-items-start mb-3">
                                <div class="brand-icon me-3" style="width: 32px; height: 32px; font-size: 12px; background-color: #dc3545;">
                                    <i class="fas fa-times text-white"></i>
                                </div>
                                <div>
                                    <h6 class="mb-1 text-danger">Permanent Removal</h6>
                                    <small class="text-muted">The villa number will be completely removed from the system.</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="d-flex align-items-start mb-3">
                                <div class="brand-icon me-3" style="width: 32px; height: 32px; font-size: 12px; background-color: #ffc107;">
                                    <i class="fas fa-unlink text-dark"></i>
                                </div>
                                <div>
                                    <h6 class="mb-1 text-warning">Configuration Lost</h6>
                                    <small class="text-muted">All special details and configurations will be lost.</small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="d-flex align-items-start mb-3">
                                <div class="brand-icon me-3" style="width: 32px; height: 32px; font-size: 12px; background-color: #17a2b8;">
                                    <i class="fas fa-home text-white"></i>
                                </div>
                                <div>
                                    <h6 class="mb-1 text-info">Villa Remains</h6>
                                    <small class="text-muted">The associated villa will not be affected by this deletion.</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="alert alert-info mt-3">
                        <div class="d-flex align-items-center">
                            <i class="fas fa-lightbulb me-2"></i>
                            <small><strong>Note:</strong> If you need to keep the villa number but modify its details, consider using the Edit option instead.</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Related Information Card -->
            <div class="card mt-4">
                <div class="card-content p-4">
                    <h5 class="mb-3">
                        <i class="fas fa-link me-2 text-primary"></i>Related Villa Information
                    </h5>
                    <div class="d-flex align-items-center p-3 bg-light rounded">
                        <div class="brand-icon me-3" style="width: 48px; height: 48px; font-size: 20px;">
                            <i class="fas fa-home"></i>
                        </div>
                        <div class="flex-grow-1">
                            <h6 class="mb-1">@Model.Villa.Name</h6>
                            <small class="text-muted">Villa ID: @Model.VillaId</small>
                        </div>
                        <div>
                            <span class="badge bg-success">Active Villa</span>
                        </div>
                    </div>
                    <div class="mt-3">
                        <small class="text-muted">
                            <i class="fas fa-info-circle me-1"></i>
                            This villa will remain in the system after deleting villa number #@Model.VillaNo. Other villa numbers associated with this villa (if any) will not be affected.
                        </small>
                    </div>
                </div>
            </div>

            <!-- Alternative Actions Card -->
            <div class="card mt-4">
                <div class="card-content p-4">
                    <h5 class="mb-3">
                        <i class="fas fa-tools me-2 text-secondary"></i>Alternative Actions
                    </h5>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="d-flex align-items-center p-3 border rounded mb-3">
                                <div class="brand-icon me-3" style="width: 40px; height: 40px; font-size: 16px; background-color: var(--primary-color);">
                                    <i class="fas fa-edit text-white"></i>
                                </div>
                                <div class="flex-grow-1">
                                    <h6 class="mb-1">Edit Villa Number</h6>
                                    <small class="text-muted">Modify special details or villa association</small>
                                </div>
                                <a asp-action="Edit" asp-route-id="@Model.VillaNo" class="btn btn-sm btn-outline-primary">
                                    <i class="fas fa-edit me-1"></i>Edit
                                </a>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="d-flex align-items-center p-3 border rounded mb-3">
                                <div class="brand-icon me-3" style="width: 40px; height: 40px; font-size: 16px; background-color: var(--info-color);">
                                    <i class="fas fa-list text-white"></i>
                                </div>
                                <div class="flex-grow-1">
                                    <h6 class="mb-1">View All Numbers</h6>
                                    <small class="text-muted">Return to villa numbers list</small>
                                </div>
                                <a asp-action="Index" class="btn btn-sm btn-outline-info">
                                    <i class="fas fa-list me-1"></i>View List
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Add confirmation dialog enhancement
        document.addEventListener('DOMContentLoaded', function () {
            const deleteForm = document.querySelector('form[asp-action="DeleteConfirm"]');
            if (deleteForm) {
                deleteForm.addEventListener('submit', function(e) {
                    // Additional confirmation for critical action
                    if (!confirm('⚠️ Final confirmation: Delete Villa Number #@Model.VillaNo?\n\nThis action cannot be undone!')) {
                        e.preventDefault();
                        return false;
                    }
                });
            }

            // Initialize tooltips if any
            var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl);
            });
        });
    </script>
}